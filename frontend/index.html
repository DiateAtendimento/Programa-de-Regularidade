<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro Termo de Regularidade - CRP</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
    rel="stylesheet"
  />

  <!-- Seu CSS customizado -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Lottie -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>

  <!-- Cleave.js para máscaras -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cleave.js/1.6.0/cleave.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cleave.js/1.6.0/addons/cleave-phone.br.js"></script>

  <!-- Pré‐popula e bloqueia edição dos campos dia, mês e ano -->
  <script>
    function populaDataSistema() {
      const hoje = new Date();
      const dia  = String(hoje.getDate()).padStart(2, '0');
      const mes  = hoje.toLocaleString('pt-BR', { month: 'long' });
      const ano  = hoje.getFullYear();

      ['dia','mes','ano'].forEach(id => {
        const el = document.getElementById(id);
        el.value = id==='mes' ? mes : (id==='dia' ? dia : ano);
        el.readOnly = true;
      });
    }

    document.addEventListener('DOMContentLoaded', populaDataSistema);
  </script>

  <style>
    /* centralizar h1 sobre o form */
    .container.floating-panel > h1 { text-align: center; }
  </style>
</head>
<body>
  <!-- Overlay de animação -->
  <div id="lottie-overlay"
       style="display:none;
              position:fixed; top:0; left:0; width:100%; height:100%;
              background:rgba(255,255,255,0.8); z-index:9999;
              justify-content:center; align-items:center;">
    <div id="lottie-player" style="width:300px; height:300px;"></div>
  </div>

  <div class="container floating-panel">
    <h1>Cadastro Termo de Regularidade - CRP</h1>

    <form id="regularidadeForm" novalidate>
      <!-- 1) Identificação -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">Identificação</div>
        <div class="card-body">
          <div class="row g-3">

            <div class="col-md-4">
              <label for="cnpj" class="form-label">CNPJ</label>
              <input
                type="text"
                class="form-control"
                id="cnpj"
                name="cnpj"
                placeholder="00.000.000/0000-00"
                inputmode="numeric"
                pattern="\d*"
                required
              />
              <div class="invalid-feedback">Informe um CNPJ de 14 dígitos.</div>
            </div>

            <div class="col-md-4">
              <label for="uf" class="form-label">UF</label>
              <select id="uf" name="uf" class="form-select" required>
                <option value="" disabled selected>Selecione a UF</option>
                <!-- opções... -->
                <option value="SP">São Paulo</option>
                <!-- resto omitido -->
              </select>
              <div class="invalid-feedback">Escolha a UF.</div>
            </div>

            <div class="col-md-4">
              <label for="ente" class="form-label">Ente</label>
              <input
                type="text"
                class="form-control"
                id="ente"
                name="ente"
                placeholder="Nome do ente"
                required
              />
              <div class="invalid-feedback">Informe o nome do Ente.</div>
            </div>

          </div>

          <!-- Critérios -->
          <fieldset class="mt-4" id="critFieldset">
            <legend class="form-label">Critérios <span class="text-danger">*</span></legend>
            <!-- checkboxes... -->
            <div class="invalid-feedback d-block" id="critFeedback" style="display:none">
              Selecione pelo menos um critério.
            </div>
          </fieldset>
        </div>
      </div>

      <!-- 2) Dados Pessoais -->
      <div class="card mb-4">
        <div class="card-header bg-secondary text-white">Dados Pessoais</div>
        <div class="card-body">
          <div class="row g-3">

            <div class="col-md-6">
              <label for="cpf" class="form-label">CPF</label>
              <input
                type="text"
                class="form-control"
                id="cpf"
                name="cpf"
                placeholder="000.000.000-00"
                inputmode="numeric"
                pattern="\d*"
                required
              />
              <div class="invalid-feedback">Informe um CPF de 11 dígitos.</div>
            </div>

            <div class="col-md-6">
              <label for="nome" class="form-label">Nome</label>
              <input
                type="text"
                class="form-control"
                id="nome"
                name="nome"
                placeholder="Nome completo"
                required
              />
              <div class="invalid-feedback">Informe o nome.</div>
            </div>

            <div class="col-md-6">
              <label for="telefone" class="form-label">Telefone</label>
              <input
                type="tel"
                class="form-control"
                id="telefone"
                name="telefone"
                placeholder="(00) 00000-0000"
                inputmode="numeric"
                pattern="\d*"
                required
              />
              <div class="invalid-feedback">Informe um telefone válido.</div>
            </div>

            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="email@exemplo.com"
                required
              />
              <div class="invalid-feedback">Informe um email válido.</div>
            </div>

            <div class="col-12">
              <label for="endereco" class="form-label">Endereço</label>
              <input
                type="text"
                class="form-control"
                id="endereco"
                name="endereco"
                placeholder="Rua, número, bairro, cidade, CEP"
                required
              />
              <div class="invalid-feedback">Informe o endereço.</div>
            </div>

          </div>
        </div>
      </div>

      <!-- 3) Local e Data -->
      <div class="card mb-4">
        <div class="card-header bg-secondary text-white">Local e Data</div>
        <div class="card-body">
          <div class="row g-3">

            <div class="col-md-6">
              <label for="cidade" class="form-label">Cidade</label>
              <input
                type="text"
                class="form-control"
                id="cidade"
                name="cidade"
                placeholder="Cidade"
                required
              />
              <div class="invalid-feedback">Informe a cidade.</div>
            </div>

            <div class="col-md-2">
              <label for="dia" class="form-label">Dia</label>
              <input type="text" class="form-control" id="dia" name="dia" required/>
            </div>

            <div class="col-md-2">
              <label for="mes" class="form-label">Mês</label>
              <input type="text" class="form-control" id="mes" name="mes" required/>
            </div>

            <div class="col-md-2">
              <label for="ano" class="form-label">Ano</label>
              <input type="text" class="form-control" id="ano" name="ano" required/>
            </div>

          </div>
        </div>
      </div>

      <!-- 4) Responsável -->
      <div class="card mb-4">
        <div class="card-header bg-secondary text-white">Responsável</div>
        <div class="card-body">
          <input
            type="text"
            class="form-control"
            id="responsavel"
            name="responsavel"
            placeholder="Nome do responsável"
            required
          />
          <div class="invalid-feedback">Informe o responsável.</div>
        </div>
      </div>

      <!-- Botões -->
      <div class="d-flex justify-content-end mb-5">
        <button type="reset" class="btn btn-outline-secondary me-2">Limpar</button>
        <button type="submit" class="btn btn-primary">Gerar Termo</button>
      </div>
    </form>
  </div>

  <!-- Logos rodapé -->
  <div class="logo-bottom text-center my-4">
    <img src="imagens/logo-mps.svg" alt="Logo MPS" class="me-3" width="100"/>
    <img src="imagens/logo-drpps.svg" alt="Logo DRPPS" width="100"/>
  </div>

  <!-- Bootstrap JS + seu script -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
