/* ======================================================================
   termo_solic_crp.css — padrão visual alinhado ao termo.css
   + ajustes específicos para o formulário "form_gera_termo_solic_crp_2"
   ====================================================================== */

/* -------------------- Bases compartilhadas (layout A4 / termo) -------------------- */
@font-face{
  font-family: 'Rawline'; font-weight: 400; font-style: normal; font-display: swap;
  src: url('./fonts/rawline-400.ttf') format('truetype');
}
@font-face{
  font-family: 'Rawline'; font-weight: 600; font-style: normal; font-display: swap;
  src: url('./fonts/rawline-600.ttf') format('truetype');
}
@font-face{
  font-family: 'Rawline'; font-weight: 700; font-style: normal; font-display: swap;
  src: url('./fonts/rawline-700.ttf') format('truetype');
}
body{
  font-family: 'Rawline', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

:root{
  --page-w: 210mm;
  --page-h: 297mm;
  --pad: 15mm;
  --content-w: calc(var(--page-w) - 2 * var(--pad));

  --brand:#0b2240;
  --ink:#23272f;
  --muted:#475569;
  --rule:#d7dee8;
}

*{ box-sizing:border-box; margin:0; padding:0 }
html,body{ height:100%; background:#eef3f9 }
body{
  font-family:'Rawline',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* === PRINT base (usada pelo Puppeteer) === */
@page{
  size: A4;
  margin: 18mm 12mm;
}
html, body{
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
}

/* Container (preview PDF) */
#pdf-root{ width:var(--page-w); margin:0 auto; }
.term-wrap{
  position:relative;
  width:var(--content-w);
  padding:var(--pad);
  margin:0 auto 2rem;
  background:#fff;
  border-radius:12px;
  box-shadow:0 24px 50px rgba(2,22,58,.12), 0 8px 18px rgba(2,22,58,.07);
}

/* Modo exportação (PDF) */
.pdf-export .logos-wrap{ display:none !important }
html.pdf-export, body.pdf-export{ background:#fff !important }
.pdf-export .term-wrap{ margin:0 !important; box-shadow:none !important; border-radius:0 !important }

/* Cabeçalho do termo (ajustado para evitar sobreposição) */
.page-head{
  position:relative;
  display:block;                 /* evita colapso com imagens */
  border:0 !important;
  padding-top:2mm;
  padding-bottom:6mm !important; /* mais respiro */
  margin-bottom:6mm !important;  /* mais respiro */
}
.page-head::after{
  content:"";
  position:absolute; left:0; right:0; bottom:0;
  height:1px; background:var(--rule);
}
.page-head .rule, #pdf-root > .rule, .rule{
  display:none !important; height:0 !important; border:0 !important; background:transparent !important;
}

/* Logos (tamanho travado para não invadir o título) */
.logos-wrap{
  display:flex; align-items:center; justify-content:center;
  flex-wrap:wrap; gap:6mm; width:100%; padding-top:0;
}
.logos-wrap img{
  max-height:14mm;               /* ajuste fino: 12–16mm conforme preferência */
  height:auto; width:auto; display:block;
}

/* Título + meta (termo) */
.term-title{
  margin:6mm 0 0 !important;     /* respiro maior após as logos */
  place-self:center;
  text-align:center;
  font-weight:800;
  font-size:16px;
  letter-spacing:.2px;
  line-height:1.28;
  color:#0b2240;
}
.term-meta{
  margin:1.2mm 0 5mm !important;
  text-align:center;
  font-size:12.8px;
  color:var(--muted);
}

/* PDF: respiros */
.pdf-export .term-title{ margin-top:4mm !important; }
.pdf-export .page-head{ margin-bottom:6mm !important; padding-bottom:6mm !important; }

/* Conteúdo do termo */
.term-section + .term-section{ margin-top:8mm }
.term-section h2{
  font-size:15px; font-weight:800; color:var(--brand);
  margin-bottom:3mm; letter-spacing:.2px;
  break-after:avoid-page; page-break-after:avoid;
}
.term-section h3{
  font-size:13.6px; font-weight:700; color:var(--ink);
  margin-top:3.5mm; margin-bottom:1.2mm;
}
.term-section p, .term-section li{
  font-size:13.2px; line-height:1.48; text-align:justify; text-justify:inter-word;
  hyphens:auto; overflow-wrap:break-word; orphans:2; widows:2;
}

/* Notas e variações */
.note{ font-size:12.6px; color:var(--muted) }
.small{ font-size:12.2px; color:var(--muted) }
.strong{ font-weight:700 }

/* Grid de campos (termo) */
.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 2.4mm 8mm;
}
/* grids “numéricos” (1.2 e 1.3) em 3 colunas — seu HTML usa class="grid grid-num" */
.grid-num{
  grid-template-columns: 1fr 1fr 1fr;
}
.field .label{ display:block; font-size:12.2px; color:var(--muted) }
.field .value{ display:block; font-size:13.4px; margin-top:.6mm }

/* Listas com recuo “numerado” */
.term-section ul{ list-style:none; margin:2mm 0 0 0; padding-left:0; }
.term-section li{ margin:1.6mm 0; padding-left:6mm; text-indent:-6mm; }

/* E-mails não quebram no meio */
[data-k="email_ente"],
[data-k="email_ug"],
[data-k="email_rep_ente"],
[data-k="email_rep_ug"]{ white-space:nowrap }

/* Regras de quebra */
.term-section{ break-inside:auto; page-break-inside:auto; }
.keep-together{ break-inside:avoid-page; page-break-inside:avoid; }
/* usada no HTML do template */
.avoid-break{ break-inside:avoid; page-break-inside:avoid; }
.break-before{ break-before:page; page-break-before:always; }

/* Rodapé (Assinaturas) no termo */
.term-footer{
  margin-top:14mm; text-align:center;
  break-inside:avoid; page-break-inside:avoid;
  padding-top:10mm;
}
.place-date{ margin:10mm 0 6mm; font-size:13.2px; }
.signature-block{ margin-top:12mm; }
.signature-line{
  width:70%; height:0; border-bottom:1.8px solid var(--brand);
  margin:0 auto 3mm;
}
.signature-caption{ font-size:13.2px; color:var(--muted); margin-bottom:0; }

/* Responsivo (preview) */
@media (max-width:980px){
  #pdf-root{ width:100% }
  .term-wrap{ width:100%; border-radius:10px }
}
@media (max-width:720px){
  .term-title{ font-size:18px }
}

/* ---- Removido o @media print com margin:0 (brigava com @page) ---- */
/* Mantemos somente os ajustes gerais de preview acima. */

/* Ajustes finos adicionais (mantendo o padrão do termo.css) */
html.pdf-export .term-meta,
body.pdf-export .term-meta{
  margin-top: 1.2mm !important;
  margin-bottom: 4.8mm !important;
}

/* Linha única garantida (sanitização) */
.page-head, .page-head::before, .page-head::after, .term-title::before, .term-title::after,
.page-head .rule, #pdf-root > .rule, .rule{
  border:0 !important; background:transparent !important; box-shadow:none !important; height:0 !important;
}

/* -------------------- Ajustes ESPECÍFICOS do FORMULÁRIO -------------------- */

/* Step 0: alinhar "Próximo" na mesma linha da pesquisa, à direita */
#pesquisaRow{ align-items: end; }
#slotNextStep0{
  margin-left: auto;                /* empurra para a direita */
  display: flex;
  align-items: end;
}

/* Resumo/alerta Gescon após a pesquisa */
#gesconInfoBox{ border-left: 4px solid #29a3ff; }

/* Breadcrumb com Nº Gescon + Data no topo da etapa 1 */
.gescon-breadcrumb{
  margin-top: .25rem;
  margin-bottom: .25rem;
  color: #64748b;
}
.gescon-breadcrumb .sep{ margin: 0 .5rem; color:#c0c8d2; }

/* Botão Próximo desabilitado (feedback de bloqueio até validar Gescon) */
#btnNext:disabled{ opacity:.6; cursor:not-allowed; }

/* Tamanhos padrão das lotties nos modais deste form */
.lottie-box{ width: 140px; height: 140px; }
.lottie-loading{ width: 120px; height:120px; }

